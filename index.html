<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mass Checker</title>

<style>
body{
  background:#0b0b0b;
  color:#fff;
  font-family:Arial;
  padding:20px
}
textarea{
  width:100%;
  height:160px;
  background:#111;
  color:#0f0;
  border:1px solid #333;
  padding:10px;
  resize:none
}
button{
  padding:10px 18px;
  background:#0f62fe;
  border:none;
  color:#fff;
  font-size:16px;
  cursor:pointer
}
.results{
  display:grid;
  grid-template-columns:repeat(3,1fr);
  gap:10px;
  margin-top:10px
}
.results textarea{height:220px}
#stats{margin:10px 0;font-size:14px}
</style>
</head>
<body>

<h2>Mass Checker</h2>
<p>Max 100 cards â€” one by one</p>

<textarea id="input" placeholder="4242424242424242|12|2026|123"></textarea>
<button onclick="start()">Start</button>

<div id="stats">Checked: 0 | Live: 0 | Die: 0 | Unknown: 0</div>

<div class="results">
  <div><h3>Live</h3><textarea id="live" readonly></textarea></div>
  <div><h3>Die</h3><textarea id="die" readonly></textarea></div>
  <div><h3>Unknown</h3><textarea id="unknown" readonly></textarea></div>
</div>

<script>
const API_URL = "https://api.chkr.cc/";

let stats = {c:0,l:0,d:0,u:0};
const updateStats = () => {
  statsEl.textContent =
    `Checked: ${stats.c} | Live: ${stats.l} | Die: ${stats.d} | Unknown: ${stats.u}`;
};

const statsEl = document.getElementById("stats");

async function checkCard(card){
  const res = await fetch(API_URL,{
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({data: card})
  });
  return res.json();
}

async function start(){
  live.value = die.value = unknown.value = "";
  stats = {c:0,l:0,d:0,u:0};
  updateStats();

  let cards = input.value.trim().split("\n").filter(Boolean).slice(0,100);

  for (const card of cards){
    try{
      const r = await checkCard(card);
      stats.c++;

      if (r.code === 1){
        stats.l++;
        live.value += card + "\n";
      } else if (r.code === 0){
        stats.d++;
        die.value += card + "\n";
      } else {
        stats.u++;
        unknown.value += card + "\n";
      }
    } catch {
      stats.c++;
      stats.u++;
      unknown.value += card + "\n";
    }

    updateStats();
    await new Promise(r => setTimeout(r, 300)); // queue
  }
}
</script>

</body>
</html>
